<div class="app">
  <app-HeaderOrderStaff></app-HeaderOrderStaff>
  <div class="app-body">
    <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse" style="padding: 12px;">
      <app-SidebarOrder></app-SidebarOrder>
    </nav>
    <div class="app-body-main-content">
      <section class="service-section">
        <br><br>
        <div *ngIf="selectedTab === 'overview'" class="overview-section">
          <div class="date-filters">
            <div class="date-filter" style="max-width: 250px;">
              <div class="input-group">
                <label class="input-group-text" for="dateFrom">Từ ngày</label>
                <input type="date" id="dateFrom" class="form-control" [(ngModel)]="dateFrom" [max]="dateTo"
                  (change)="onDateFromChange()">
              </div>
            </div>
            <div class="date-filter" style="max-width: 250px;">
              <div class="input-group">
                <label class="input-group-text" for="dateTo">Đến ngày</label>
                <input type="date" id="dateTo" class="form-control" [(ngModel)]="dateTo" [max]="dateNow"
                  (change)="onDateToChange()">
              </div>
            </div>
          </div>

          <div class="tiles">
            <article class="tile">
              <div class="tile-header">
                <i class="ph-lightning-light"></i>
                <h3>
                  <span>Số đơn hoàn thành</span>
                  <hr>
                  <span>{{data?.totalOrders}}</span>
                </h3>
              </div>
            </article>
            <article class="tile">
              <div class="tile-header">
                <i class="ph-fire-simple-light"></i>
                <h3>
                  <span>Doanh thu</span>
                  <hr>
                  <span>{{data?.totalRevenue | currencyFormat }}</span>
                </h3>
              </div>
            </article>
          </div>
        </div>

        <section class="payment-section" *ngIf="selectedTab === 'overview'">
          <h2>Phương thức thanh toán</h2>
          <br>
          <div class="row">
            <div class="col-md-3">
              <div class="payments">
                <div class="payment">
                  <div class="payment-details">
                    <p>Tiền mặt: ({{data?.orderCountByPaymentMethod0+data?.orderCountByPaymentMethod2}}) đơn</p>
                    <div>
                      <span>{{(data?.revenueByPaymentMethod0+data?.revenueByPaymentMethod2) | currencyFormat }} </span>
                    </div>
                  </div>
                </div>
                <div class="payment">
                  <div class="payment-details">
                    <p>Chuyển khoản: ({{data?.orderCountByPaymentMethod1}}) đơn</p>
                    <div>
                      <span>{{(data?.revenueByPaymentMethod1) | currencyFormat }}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <br>
          <div class="payment-section-footer">
            <button class="save-button" (click)="exportData()">
              Xuất file báo cáo
            </button>
          </div>
        </section>
      </section>
    </div>
  </div>
</div>
